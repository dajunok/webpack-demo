一、简介：
    这个插件使用terser压缩JavaScript代码。 
    用terser-webpack-plugin插件替换掉uglifyjs-webpack-plugin解决uglifyjs不支持es6语法问题

二、安装：
    $ npm install terser-webpack-plugin --save-dev
三、配置：（官网：https://www.npmjs.com/package/terser-webpack-plugin#terser-webpack-plugin）
    1、插件选项列表如下：
        =================================================================================================================================
            选项                           类型（Type）：                                        含义                   默认值（Default）
        ---------------------------------------------------------------------------------------------------------------------------------*
            test                String|RegExp|Array<String|RegExp>                      匹配要压缩的文件                /\.m?js(\?.*)?$/i
        ---------------------------------------------------------------------------------------------------------------------------------*
            include             String|RegExp|Array<String|RegExp>                      包含要压缩的文件目录          
        ---------------------------------------------------------------------------------------------------------------------------------*
            exclude             String|RegExp|Array<String|RegExp>                      排除要压缩的文件目录        
        ---------------------------------------------------------------------------------------------------------------------------------*
            chunkFilter         Function<(chunk) -> boolean>                            过滤要压缩的chunk块            () => true
        ---------------------------------------------------------------------------------------------------------------------------------*
            cache               Boolean|String                                          启用/禁用文件缓存               true   
        ---------------------------------------------------------------------------------------------------------------------------------*
            parallel            Boolean|Number                                          启用/禁用多进程                 true
        ---------------------------------------------------------------------------------------------------------------------------------*
            sourceMap           Boolean                                                 源代码映射                      false
        ---------------------------------------------------------------------------------------------------------------------------------*
            minify              Function                               允许指定压缩函数覆盖默认的压缩功能。默认情况下插件使用terser包。      
        ---------------------------------------------------------------------------------------------------------------------------------*
            terserOptions       Object                                 设置Terser压缩选项（它是一个对象，具体设置参见下面的Terser压缩选项列表）
        ---------------------------------------------------------------------------------------------------------------------------------*
            extractComments     Boolean|String|RegExp|
                                Function<(node, comment) -> Boolean|Object>|Object      是否应将注释提取到单独的文件中     true

        =================================================================================================================================*
    

    2、 terserOptions选项配置（Terser压缩工具选项）：
        =================================================================================================================================
            选项                                                  简介
        ---------------------------------------------------------------------------------------------------------------------------------*
            ecma                    ECMAScript版本，可以设置为：5、2015、2016、2017或者2018之中的任何一个。
                                    它会覆盖parse、compress和output选项指定的ecma。
        ---------------------------------------------------------------------------------------------------------------------------------*
            warnings                （默认为false），当指定为true时，在result.warnings中返回压缩器警告；指定为"verbose"时，显示更详细的警告信息。
        ---------------------------------------------------------------------------------------------------------------------------------*
            parse                   （默认为空对象{})，用于指定解析器的具体选项（参见Parse options）
        ---------------------------------------------------------------------------------------------------------------------------------*
            compress                （ 默认为空对象{} ），用于指定具体压缩选项（参见Compress options）。指定为false时则不会进行压缩；
                                    传递一个自定义压缩选项对象设置要压缩的项。
        ---------------------------------------------------------------------------------------------------------------------------------*
            mangle                  （默认为true），指定为false则跳过mangling名称。（mangle个人理解为极限压缩，比如用少量字符表示实际参数名称）。
        ---------------------------------------------------------------------------------------------------------------------------------*
            module                 （默认为false）， 在压缩ES6模块时使用。“use strict”是隐含的，名称可以在顶部作用域中被mangle。
                                    如果启用compress 或者 mangle，则启用toplevel选项。
        ---------------------------------------------------------------------------------------------------------------------------------*
            output                  （默认为false），如果要指定其他输出选项，请传递一个对象。默认情况下经过优化以实现最佳压缩。
        ---------------------------------------------------------------------------------------------------------------------------------*
            sourceMap               （默认为false），如果要指定源代码映射选项，请传递对象。
        ---------------------------------------------------------------------------------------------------------------------------------*
            toplevel                是否启用顶级变量（默认为false），如果指定为true，启用顶级变量和函数名管理并删除未使用的变量和函数
        ---------------------------------------------------------------------------------------------------------------------------------*
            nameCache               是否使用名称缓存（默认为null），如果希望在多次调用minify()时缓存mangle的变量和属性名称，请传递空对象{}或以前使用的
                                        nameCache对象。注意：这是一个读/写属性。minify()将读取此对象的名称缓存状态，
                                        并在压缩过程中对其进行更新，以便用户可以重用或外部保存它。
        ---------------------------------------------------------------------------------------------------------------------------------*
            ie8                      是否支持IE8（默认为false），当设置为true时支持IE8。
        ---------------------------------------------------------------------------------------------------------------------------------*
            keep_classnames          是否保持原有类名（默认为undefined），指定为true防止类名被discarding（放弃原有类名）或者mangling（极限压缩）。指定为正则表达式以仅保持类名与该正则表达式匹配。
        ---------------------------------------------------------------------------------------------------------------------------------*
            keep_fnames              是否保持原有函数名（默认为false），指定为true以防止函数名被discarding（丢弃原有函数名）或者mangling（极限压缩）。
                                      传递正则表达式以仅保持类名与该正则表达式匹配。对于依赖Function.prototype.name的代码很有用。
                                      如果顶级minify选项keep_classnames未定义，则它将被顶级minify选项keep_fnames的值覆盖。
        ---------------------------------------------------------------------------------------------------------------------------------*
            safari10                 （默认为false），通过指定true来处理Safari 10/11循环中的bug范围并等待。有关详细信息，
                                      请参阅mangle和output中的safari10选项。  
        =================================================================================================================================*
    
    3、compress选项配置：
        =================================================================================================================================
            选项                                                  简介
        ---------------------------------------------------------------------------------------------------------------------------------*
        

    
    4、案例1：
        //webpack.config.js
        module.exports = {
          optimization: {
            minimize: true,
            minimizer: [
              new TerserPlugin({
                test: /\.js(\?.*)?$/i,  //匹配要压缩的文件
                include: path.join(__dirname, './src'),  // 包含要压缩文件的目录
                exclude: [],    //排除要压缩的文件目录
                chunkFilter: (chunk) => {   //过滤掉名为'vendor'的chunk块     
                  if (chunk.name === 'vendor') { return false; }
                  return true;
                },
                cache: true,               //启用文件缓存。缓存目录的默认路径：node_modules/.cache/terser-webpack-plugin。
                parallel: true,            //使用多进程并行运行来提高构建速度。默认并发运行数：os.cpus().length - 1。可以直接用数字指定并发运行数：parallel: 4
                sourceMap: true,           //是否生成源代码映射文件。设置源代码映射方式由devtool键指定，而不是在优化键optimization中设置。
                extractComments: false,    //是否应将注释提取到单独的文件中


              }),
            ],
          },
        };